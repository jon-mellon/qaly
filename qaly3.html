<html lang="en">
<head>
  <title>How does current health situation compare to perfect health?</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <style>
  .right {
  position: absolute;
  right: 15px;
  padding: 0px;
  padding-top: 20px;
  }
  .left {
  position: absolute;
  left: 15px;
  padding: 0px;
  padding-top: 20px;
  }
  .center {
  position: absolute;
  left: 55px;
  right: 60px;
  padding: 10px;
  padding-bottom: 500px;
  }

  .centerbutton {
    /*Change the width as much as you like, but make sure 
    margin-left and margin-right + width = 100%*/
    width:100%;
    margin-left:25%;
    margin-right:25%;
  }

  </style>
</head>
<body>


    <p>Which of the following lives would you prefer?</p>

    <div class=centerbutton>
        <button onclick="pickA()">Life A</button>
        <button onclick="pickB()">Life B</button>
    </div>


    <h2>Life A</h2>

    <div class="container">
        <div class="center">

            <div class="progress" style="width: 100%; height:4.1rem" margin-left:auto>
                <div class="progress-bar progress-bar-success" id="progressA1" role="progressbar" style="width:50%">
                    Perfect health
                    <br>
                    (5 years)
                </div>
                <div class="progress-bar progress-bar-danger" id="progressA2" role="progressbar" style="width:50%">
                    Dead
                    <br>
                </div>
            </div>

        </div>
        <div class="left">
            0 years
        </div>
        <div class="right">
            10 years
        </div>
    </div>

    <br>
    <br>
    <br>
    <br>
    <br>



    <h2>Life B</h2>
    <div class="container">
        <div class="center">

            <div class="progress" style="width: 100%; height:4.1rem" margin-left:auto>
                <div class="progress-bar progress-bar-warning" id="progressB" role="progressbar" style="width:100%">
                    Current health
                    <br>
                    (10 years)
                </div>
            </div>

        </div>
        <div class="left">
            0 years
        </div>
        <div class="right">
            10 years
        </div>
    </div>
    


    <br>
    <br>
    <br>
    <br>
    <br>




    <script>

        var current = 50;
        var dead = 50;
        var jump = 25;
        pickA = function () {
            console.log("picked A");
            let A1 = document.getElementById("progressA1");
            let A2 = document.getElementById("progressA2");
            dead = dead + jump;

            current = current - jump;
            jump = jump / 2;

            let daycurrent = Math.round(12 * ((current / 10) - Math.floor(current / 10)));
            let daydead = Math.round(12 * ((dead / 10) - Math.floor(dead / 10)));


            A1.style.width = current + "%";
            A2.style.width = dead + "%";
            let currentText;
            if (current > 20) {
                currentText = Math.floor(current / 10) + ' years ' + daycurrent + " months";
                A1.innerHTML = "\n                  Perfect health\n                  <br>\n                  (" + currentText + ")\n                ";
            } else {
                currentText = Math.round(current * 1.2) + " months";
                A1.innerHTML = "<font size= \"0.05\">\n                  Best\n                  <br>\n                  (" + currentText + ")\n                </font>";

            }
        };
        pickB = function () {
            console.log("picked B");
            let A1 = document.getElementById("progressA1");
            let A2 = document.getElementById("progressA2");
            dead = dead - jump;
            current = current + jump;
            jump = jump / 2;
            let daycurrent = Math.round(12 * ((current / 10) - Math.floor(current / 10)));
            let daydead = Math.round(12 * ((dead / 10) - Math.floor(dead / 10)));


            A1.style.width = current + "%";
            A2.style.width = dead + "%";
            let currentText;
            if (current > 20) {
                currentText = Math.floor(current / 10) + ' years ' + daycurrent + " months";
                A1.innerHTML = "\n                  Perfect health\n                  <br>\n                  (" + currentText + ")\n                ";
            } else {
                currentText = Math.round(current * 1.2) + " months";
                A1.innerHTML = "<font size= \"0.05\">\n                  Best\n                  <br>\n                  (" + currentText + ")\n                </font>";
            }
            //let deadText = Math.floor(dead/10) + ' years ' + daydead + " months";

            //A2.innerHTML = "\n                  Dead\n                  <br>\n                  (" + deadText + ")\n                ";
        };


    </script>

    <br>
    <a href="/qaly/qaly.html">Reset</a>
    <br>

    <a href="/qaly/index.html">Return to home</a>

</body>
</html>
